<div class="card">
    <div class="card-header bg-primary text-white text-center">Durumlar</div>
    <div class="card-body">

        <table class="table table-bordered table-hover table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>İşlemler</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>

    </div>
    <div class="card-footer"></div>
</div>

@section Scripts{
    <script>
        fillTable();


        function deleteStatus(id,element) {
            if (confirm("Silmek istediğinizden emin misiniz ?")) {

                $.ajax({
                    url: '/Status/Delete',
                    type: 'POST',
                    data: { id: id },
                    success: function () {
                        $(element).parent().parent().remove();
                    }
                });
            }  
        }

        function fillTable() {
            $.ajax({
                url: '/Status/GetAll',
                type: 'GET',
                success: function (res) {
                    for (let item of res) {
                        $("tbody").append(`
                            <tr>
                                <td>${item.id}</td>
                                <td>${item.name}</td>
                                <td><a onclick="deleteStatus(${item.id},this)" href="#" class="btn btn-danger">Sil</a></td>
                            </tr>
                       `);
                    }
                }
            });
        }
    </script>
}